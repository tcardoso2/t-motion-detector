<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [\_InternalAddFilter](#_internaladdfilter)
-   [\_InternalAddEnvironment](#_internaladdenvironment)
-   [AddNotifier](#addnotifier)
-   [AddDetector](#adddetector)
-   [DeactivateDetector](#deactivatedetector)
-   [ActivateDetector](#activatedetector)
-   [RemoveNotifier](#removenotifier)
-   [GetEnvironment](#getenvironment)
-   [GetNotifiers](#getnotifiers)
-   [GetMotionDetectors](#getmotiondetectors)
-   [GetMotionDetector](#getmotiondetector)
-   [GetFilters](#getfilters)
-   [Reset](#reset)
-   [Start](#start)
-   [StartWithConfig](#startwithconfig)
-   [\_AddInstance](#_addinstance)
-   [Config](#config)
    -   [mapToFile](#maptofile)
    -   [isFallback](#isfallback)
    -   [profile](#profile)
    -   [getProperty](#getproperty)
    -   [slackHook](#slackhook)
    -   [slackAuth](#slackauth)
    -   [raspistillOptions](#raspistilloptions)
    -   [toString](#tostring)
-   [SaveAllToConfig](#savealltoconfig)
-   [Entities](#entities)
-   [Extensions](#extensions)
-   [Filters](#filters)
-   [Environment](#environment)
    -   [motionDetectors](#motiondetectors)
-   [MotionDetector](#motiondetector)
-   [BaseFilter](#basefilter)

## \_InternalAddFilter

Adds a Filter into the current Detectors in {motionDetectors}. If the filter is not of BaseFilter instance,
it fails silently (logs a warning message into the logger) and returns false. If there are no Detectors still
returns true.

**Parameters**

-   `filter` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** object to add. This function is internal (optional, default `new filters.BaseFilter()`)

Returns **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true if the filters were binded to the existing detectors.

## \_InternalAddEnvironment

Adds an Environment into the current context. The environment needs to be if instance Environment, if not
if fails silently, logs the error in the logger and returns false.

**Parameters**

-   `env` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Environment object to add. This function is internal (optional, default `new ent.Environment()`)

Returns **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true if the environment is successfully created.

## AddNotifier

Adds a Notifier to the current environment (binds to existing Detectors in {motionDetectors} variable).
Checks that the notifier is of {BaseNotifier} instance. Allows to force adding a notifier event if not
of the correct type, by setting force = true

**Parameters**

-   `notifier` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the Notifier object to add.
-   `template` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the template message for the notifier, in case it triggers.
-   `force` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** can be set to true to push the notifier even if not of {BaseNotifier} instance (optional, default `false`)

Returns **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true if the notifier is successfully created.

## AddDetector

Adds a detector or detectors (in form of array) to the {Environment} in the {motionDetectors} 
internal variable.
Checks that the notifier is of {BaseNotifier} instance. Allows to force adding a notifier event if not
of the correct type, by setting force = true.
Fails silently (returns false) if the detector is not of {MotionDetector} type, and logs the occurence.
Fails hard (throws an Error) if there is no existing {Environment} set in the context at the runtime.

**Parameters**

-   `detector` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the MotionDetector object to add.
-   `force` **[boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** can be set to true to push the detector even if not of {MotionDetector} instance (optional, default `false`)

Returns **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true if the detector is successfully created.

## DeactivateDetector

Deactivates an existing detector by name.
Fails hard (throws an Error) if a {MotionDetector} with that name is not found at the runtime.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the name of the {MotionDetector} to deactivate.

## ActivateDetector

Activates an existing detector by name.
Fails hard (throws an Error) if a {MotionDetector} with that name is not found at the runtime.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the name of the {MotionDetector} to deactivate.

## RemoveNotifier

Removes an existing notifier from the context.
Does not fail if the notifier is not found.

**Parameters**

-   `notifier` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the notifier instance to remove.

Returns **any** true if the notifier was found (and subsequently removed).

## GetEnvironment

Gets the object which represents the current Environment of the context.
throws an Error if an environment does not exist in the context.

Returns **any** a Environment object.

## GetNotifiers

Gets the notifiers array present in the context.

Returns **any** an Array of Notifier objects.

## GetMotionDetectors

Gets the Motion Detectors array present in the context.

Returns **any** an Array of MotionDetector objects.

## GetMotionDetector

Gets the Motion Detectors with the given name.
Will throw an exception if there is no Motion detector with such name.

**Parameters**

-   `name` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the name of the MotionDetector instance to get.

Returns **any** a MotionDetector objects.

## GetFilters

Gets all the existing Filters present in the current context.

Returns **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** an Array of Filter objects.

## Reset

Resets the current context environment, notifiers and motion detectors.

## Start

Starts the current environment given a set of parameters (Old way of starting - it is preferrable)
to use {StartWithConfig} instead.

**Parameters**

-   `params` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is a parameters object, any object which contains the following attributes: \\n
    (1) an "environment" attribute with the {Environment} object to set; \\n
    (2) an "initialMotionDetector" attribute with one {MotionDetector} object to set (does not allow several motion detectors); \\n
    (3) an "initialNotifier" attribute with the {Notifier} object to set (does not allow several notifiers); \\n
-   `silent` **[string](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** if set to true will not send an initial notification to notifiers when starting up (by default is set to false). (optional, default `false`)

## StartWithConfig

Starts the current environment based on existing configuration. Use this method instead of {Start}

**Parameters**

-   `configParams` **[Config](#config)** a parameter object of the {Config} instance.
-   `callback` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** is a function which will be called after all initialization is done.
    The correct way of initializing the program is by puting the main code inside that callback.

**Examples**

```javascript
let myConfig = new main.Config("/test/config_test6.js");
main.StartWithConfig(myConfig, ()=>{
let n = main.GetNotifiers();
n[0].on('pushedNotification', function(message, text, data){
console.log("Some Notification happened!");
});
e.addChange(9); //Some change introduced      
});
```

## \_AddInstance

Internal function. Given a factory and an entity name (One of {Environment}, 
{MotionDetector}, {Notifier}, or {Filter}) and arguments adds this instance
to the current context

**Parameters**

-   `f` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is the factory instance.
-   `p` **[object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** is an object name to instanciate.
-   `args` **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** is an array of arguments for the constructor invoke..

## Config

A generic base class which creates a motion detector for surrounding environments \\n
Collaborator: Environment

**Parameters**

-   `profile` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the path of the config file to use

**Examples**

```javascript
let alternativeConfig = new main.Config("config_test1.js");
```

Returns **[Object](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object)** the config object itself

### mapToFile

TODO:

**Parameters**

-   `file_name`  
-   `prepend_cwd`   (optional, default `true`)

### isFallback

TODO:

### profile

TODO:

**Parameters**

-   `name`  

### getProperty

TODO:

**Parameters**

-   `profile_name`  
-   `prop`  

### slackHook

TODO:

**Parameters**

-   `profile_name`  

### slackAuth

TODO:

**Parameters**

-   `profile_name`  

### raspistillOptions

TODO:

**Parameters**

-   `profile_name`  

### toString

TODO:

## SaveAllToConfig

Saves all the Environment, Detector, Notifiers and Filters information into a config file

**Parameters**

-   `src` **[String](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String)** is the path of the config file to use
-   `callback` **[Function](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/function)** is the callback function to call once the Save is all done, it passes
    status and message as arguments to the function.
-   `force` **[Boolean](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Boolean)** true if the user wants to overwrite an already existing file. (optional, default `false`)

## Entities

Exposes the Entities accessible

## Extensions

Exposes the Extensions accessible

## Filters

Exposes the Filters accessible

## Environment

**Parameters**

-   `params`  

### motionDetectors

: Contains the motion detectors attached to the current environment.

## MotionDetector

: Test

**Parameters**

-   `name`  

## BaseFilter

**Parameters**

-   `val`  
-   `applyTo`  
